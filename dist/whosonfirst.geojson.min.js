var whosonfirst=whosonfirst||{};whosonfirst.geojson=function(){var e={deriveBboxAsFeature:function(t){var n=e.deriveBboxAsPolygon(t),s={type:"Polygon",coordinates:n},o=t.properties,t={type:"Feature",properties:o,geometry:s};return t},deriveBboxAsBounds:function(t){var n=e.deriveBbox(t),s=n[0],o=n[1],i=n[2],a=n[3];return[[o,s],[a,i]]},deriveBboxAsPolygon:function(t){var n=e.deriveBbox(t),s=n[0],o=n[1],i=n[2],a=n[3],r=[[[s,o],[s,a],[i,a],[i,o],[s,o]]];return r},deriveBbox:function(t){if(t.bbox)return t.bbox;if(t.type=="FeatureCollection"){for(f=t.features,b=f.length,d=void 0,u=void 0,l=void 0,c=void 0,n=0;n<b;n++)h=e.deriveBbox(f[n]),v=h[1],g=h[0],m=h[3],p=h[2],(!d||v<d)&&(d=v),(!u||g<u)&&(u=g),(!l||m>l)&&(l=m),(!c||p>c)&&(c=p);return[u,d,c,l]}if(t.type=="Feature"){var n,o,c,l,d,u,h,m,f,p,g,v,b,j,y,_,w,i=t.geometry,s=i.coordinates,r=[],a=[];if(i.type=="Point")return[s[0],s[1],s[0],s[1]];if(i.type=="MultiPoint"||i.type=="LineString")for(n=0;n<s.length;n++)r.push(s[n][1]),a.push(s[n][0]);else if(i.type=="MultiLineString")for(n=0;n<s.length;n++)for(o=0;o<s[n].length;o++)r.push(s[n][o][1]),a.push(s[n][o][0]);else if(i.type=="Polygon")for(n=0;n<s[0].length;n++)r.push(s[0][n][1]),a.push(s[0][n][0]);else if(i.type=="MultiPolygon")for(n=0;n<s.length;n++)for(o=0;o<s[n][0].length;o++)r.push(s[n][0][o][1]),a.push(s[n][0][o][0]);return j=Math.min.apply(null,r),y=Math.max.apply(null,r),_=Math.min.apply(null,a),w=Math.max.apply(null,a),[_,j,w,y]}},derive_bbox_as_feature:function(t){return console.warn("derive_bbox_as_feature is deprecated, use deriveBboxAsFeature instead."),e.deriveBboxAsFeature(t)},derive_bbox_as_bounds:function(t){return console.warn("derive_bbox_as_bounds is deprecated, use deriveBboxAsBounds instead."),e.deriveBboxAsBounds(t)},derive_bbox_as_polygon:function(t){return console.warn("derive_bbox_as_polygon is deprecated, use deriveBboxAsPolygon instead."),e.deriveBboxAsPolygon(t)},derive_bbox:function(t){return console.warn("derive_bbox is deprecated, use deriveBbox instead."),e.deriveBbox(t)}};return e}()