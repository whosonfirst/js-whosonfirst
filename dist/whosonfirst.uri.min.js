var whosonfirst=whosonfirst||{};whosonfirst.uri=function(){var t="https://data.whosonfirst.org/",e={endpoint:function(e){return e&&(console.log("set uri endpoint to "+e),t=e),t},id2abspath:function(t,n){var s=e.id2relpath(t,n),o=e.endpoint()+s;return o},id2relpath:function(t,n){parent=e.id2parent(t),fname=e.id2fname(t,n);var s=parent+"/"+fname;return s},id2parent:function(e){for(str_id=new String(e),tmp=new Array;str_id.length;){var t=str_id.substr(0,3);tmp.push(t),str_id=str_id.substr(3)}return parent=tmp.join("/"),parent},id2fname:function(e,t){t||(t={});var s,o,i,a,r,c,l,n=[encodeURIComponent(e)];if(t.alt)if(n.push("alt"),t.source){if(i=encodeURIComponent(t.source),n.push(i),t.function&&(a=encodeURIComponent(t.function),n.push(a),t.extras&&t.extras.join))for(o=t.extras,r=o.length,s=0;s<r;s++)c=encodeURIComponent(o[s]),n.push(c)}else console.log("missing source parameter for alternate geometry"),n.push("unknown");return l=n.join("-"),l+".geojson"}};return e}()